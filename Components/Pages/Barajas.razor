@page "/barajas"
@using ClaseIdiomas;
@inject LocalizationResourceManager loc;
<h3>Tus barajas</h3>
<div class="card text-bg-light mb-3" style="width: 18rem;">
    <button class="card-img-top" style="background-color:lightgray;height:10rem" @onclick="nuevaBaraja">
        <i class="bi bi-plus-lg" style="font-size:x-large"></i>
    </button>  
    <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <!--<a href="#" class="btn btn-primary">Go somewhere</a>-->        
    </div>
</div>
@code {
    int idioma = 0;

    private void OnLanguageChanged()
    {
        InvokeAsync(StateHasChanged);
    }
    protected override async Task OnInitializedAsync()
    {
        var user = await UsuarioService.GetById(int.Parse(AppContext.GetData("logged")!.ToString()!));
        idioma = user.idIdioma;
        loc.SetIdioma(idioma switch
        {
            1 => "es",
            2 => "eu",
            3 => "en",
            _ => "es"
        });
        loc.OnLanguageChanged += OnLanguageChanged;
    }
    public void nuevaBaraja()
    {
        //query para nueva baraja
    }
}
